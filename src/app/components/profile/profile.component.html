<div *ngIf="isLoading" class="spinner-border text-primary" role="status">

  <span class="sr-only">Loading...</span>

</div>


<div class='container-fluid'>
  <div class="card" *ngIf="user">
    <div class="display-4"> {{user.first_name}} {{user.last_name}}</div>
    <div class="lead"><span>Username: {{user.username}} </span></div>
    <div class="my-4"><span>Email: {{user.email}}  Contact: {{user.contact_method}}</span></div>
    <div class="my-4"><span>Phone: {{user.phone}}</span> </div>
    <div class="my-4"><span>Mobile: {{user.mobile_phone}}</span></div>
    <div class="my-4"><span>Address 1: {{user.address1}}</span></div>
    <div *ngIf="isOrg" class="my-4"><span>Address 2: {{user.address2}}</span></div>
    <div class="my-4"><span>City: {{user.city}} State: {{user.state}} </span></div>
    <div *ngIf="isOrg" class="my-4"><span>Org: {{user.org_name}} </span>Contact: {{ user.contact_name}}</div>
    <div *ngIf="isOrg" class="my-4"><span>Fax: {{user.fax}}</span></div>
    <div class="my-4"><span>County: {{user.county}}</span>&nbsp; {{user.zip}}</div>
    <br>
    <button type="button" class="btn btn-primary" routerLink="/city-care/home">Back</button>&nbsp;
  <button type="button" class="btn btn-warning" routerLink="/city-care/update-profile/{{user.id}}">Update</button>
  </div>
</div>

<mat-accordion multi="true" *ngIf="listings.length && !isOrg> 0 && !isLoading">
                         <mat-expansion-panel *ngFor="let listing of listings">
                                                  <mat-expansion-panel-header>
                                                    <mat-panel-title>
                                                      {{ listing.description }}
                                                    </mat-panel-title>
                                                  </mat-expansion-panel-header>
                                                  <mat-panel-description>
                                                    <p>{{ listing.availability }}</p>
                                                  </mat-panel-description>
                                                  <mat-action-row>
                                                                           <a mat-button
                                                                                                    color="primary" [routerLink]="['/edit', listing.id]">EDIT</a>
                                                                           <button mat-button color="warn"
                                                                                                    (click)="onClickDeleteListing(listing.id)">DELETE</button>
                                                  </mat-action-row>
                         </mat-expansion-panel>
</mat-accordion>
<hr>
<mat-accordion multi="true" *ngIf="requests.length > 0 && !isLoading">
  <mat-expansion-panel *ngFor="let request of requests">
                           <mat-expansion-panel-header>
                                                    {{ request.name }}
                           </mat-expansion-panel-header>
                           <p>{{ request.details }}</p>
                           <mat-action-row>
                                                    <a mat-button
                                                                             color="primary" [routerLink]="['/edit', request.id]">EDIT</a>
                                                    <button mat-button color="warn"
                                                                             (click)="onClickDeleteRequest(request.id)">DELETE</button>
                           </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>
