<div *ngIf="isLoading" class="spinner-border text-primary" role="status">

  <span class="sr-only">Loading...</span>

</div>



<h1>Listings & Requests In The City-Care Site Database</h1>

<mat-accordion multi="true" *ngIf="listings.length > 0 && !isLoading &&  userIsAuthenticated">
  <h3>All Listings</h3>
                      <mat-expansion-panel *ngFor="let listing of listings">
                                                  <mat-expansion-panel-header>
                                                                           {{ listing.description }}
                                                  </mat-expansion-panel-header>
                                                        QTY:    <p>{{listing.quantity}} </p>
                                                        Need:  <p>{{listing.requirements}}</p>
                                                 When:<p>{{ listing.availability }}</p>
                                                 <mat-action-row *ngIf="org">
                                                    {{user.first_name}}
                                                 </mat-action-row>
                                                 <mat-action-row>
                                                  <a mat-button color="primary" [routerLink]="['/city-care/view-listing/', listing.id]">View</a>
                                                 </mat-action-row>
                                                                           
                         </mat-expansion-panel>
</mat-accordion>
<hr>
<mat-accordion  multi="true" *ngIf="requests.length > 0 && !isLoading && userIsAuthenticated">
  <h3>All Requests</h3>
  <mat-expansion-panel *ngFor="let request of requests">
                           <mat-expansion-panel-header>
                                                    {{ request.name }}
                           </mat-expansion-panel-header>
                           <p>{{ request.details }}</p>
                           <mat-action-row>
                                                    <a mat-button color="primary" [routerLink]="['/city-care/view-request/', request.id]">View</a>
                           </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>